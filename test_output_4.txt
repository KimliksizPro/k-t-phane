/home/semih/My Fİles/MyApps/Kütüphane Otomasyonu/app.py:96: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  return dict(settings=settings, now=datetime.utcnow())
F../home/semih/My Fİles/MyApps/Kütüphane Otomasyonu/app.py:137: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  overdue_loans = Transaction.query.filter(Transaction.status == 'active', Transaction.due_date < datetime.utcnow()).all()
.F
======================================================================
FAIL: test_dashboard_access_denied (__main__.AuthTestCase.test_dashboard_access_denied)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/semih/My Fİles/MyApps/Kütüphane Otomasyonu/test_auth.py", line 59, in test_dashboard_access_denied
    self.assertIn(b'Giri\xc5\x9f Yap', response.data)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: b'Giri\xc5\x9f Yap' not found in b'<body>\n    \n    <!-- Login Page Container (Full Screen) -->\n    \n<div class="d-flex align-items-center justify-content-center"\n    style="min-height: 100vh; background: linear-gradient(135deg, #4e54c8 0%, #8f94fb 100%);">\n    <div class="container">\n        <div class="row justify-content-center">\n            <div class="col-md-5 col-lg-4">\n                <div class="card border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">\n                    <div class="card-body p-5">\n                        <div class="text-center mb-4">\n                            <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3"\n                                style="width: 80px; height: 80px; box-shadow: 0 5px 15px rgba(78, 84, 200, 0.3);">\n                                <i class="fas fa-book-reader fa-3x"></i>\n                            </div>\n                            <h3 class="fw-bold text-dark mb-1">Ho\xc5\x9f Geldiniz</h3>\n                            <p class="text-muted small">K\xc3\xbct\xc3\xbcphane Otomasyon Sistemi</p>\n                        </div>\n\n                        <!-- Flash Messages -->\n                        \n                        \n                        \n                        <div class="alert alert-message alert-dismissible fade show shadow-sm border-0 mb-4"\n                            role="alert">\n                            <i class="fas fa-info-circle me-2"></i> Please log in to access this page.\n                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n                        </div>\n                        \n                        \n                        \n\n                        <form method="POST">\n                            <input type="hidden" name="csrf_token" value="IjNiNTYxZmY1OTY3ZGViZDkyNDIwZTgwZTQ0MjkwYTJmMTI0ODJmNjQi.aTmWRw.5cbzgaZiWvKrMtKIQfGWuevHRb0">\n\n                            <div class="form-floating mb-3">\n                                <input type="text" class="form-control bg-light border-0" id="username" name="username"\n                                    placeholder="Kullan\xc4\xb1c\xc4\xb1 Ad\xc4\xb1" required style="border-radius: 10px;">\n                                <label for="username" class="text-muted"><i class="fas fa-user me-2"></i>Kullan\xc4\xb1c\xc4\xb1\n                                    Ad\xc4\xb1</label>\n                            </div>\n\n                            <div class="form-floating mb-4">\n                                <input type="password" class="form-control bg-light border-0" id="password"\n                                    name="password" placeholder="\xc5\x9eifre" required style="border-radius: 10px;">\n                                <label for="password" class="text-muted"><i class="fas fa-lock me-2"></i>\xc5\x9eifre</label>\n                            </div>\n\n                            <div class="d-grid gap-2 mb-4">\n                                <button class="btn btn-primary btn-lg py-3 fw-bold" type="submit"\n                                    style="border-radius: 10px; letter-spacing: 1px;">\n                                    G\xc4\xb0R\xc4\xb0\xc5\x9e YAP\n                                </button>\n                            </div>\n\n                            <div class="text-center">\n                                <small class="text-muted">Varsay\xc4\xb1lan: <strong>admin</strong> /\n                                    <strong>admin123</strong></small>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n    \n\n    <script src="/static/js/bootstrap.bundle.min.js"></script>\n</body>\n\n</html>'

======================================================================
FAIL: test_logout (__main__.AuthTestCase.test_logout)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/semih/My Fİles/MyApps/Kütüphane Otomasyonu/test_auth.py", line 55, in test_logout
    self.assertIn(b'Giri\xc5\x9f Yap', response.data)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: b'Giri\xc5\x9f Yap' not found in b'<body>\n    \n    <!-- Login Page Container (Full Screen) -->\n    \n<div class="d-flex align-items-center justify-content-center"\n    style="min-height: 100vh; background: linear-gradient(135deg, #4e54c8 0%, #8f94fb 100%);">\n    <div class="container">\n        <div class="row justify-content-center">\n            <div class="col-md-5 col-lg-4">\n                <div class="card border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">\n                    <div class="card-body p-5">\n                        <div class="text-center mb-4">\n                            <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3"\n                                style="width: 80px; height: 80px; box-shadow: 0 5px 15px rgba(78, 84, 200, 0.3);">\n                                <i class="fas fa-book-reader fa-3x"></i>\n                            </div>\n                            <h3 class="fw-bold text-dark mb-1">Ho\xc5\x9f Geldiniz</h3>\n                            <p class="text-muted small">K\xc3\xbct\xc3\xbcphane Otomasyon Sistemi</p>\n                        </div>\n\n                        <!-- Flash Messages -->\n                        \n                        \n                        \n\n                        <form method="POST">\n                            <input type="hidden" name="csrf_token" value="ImVkZmM3ZjkzMWQ5ZjQwYzllYjZjNzNmYzk5NWNiYTg3ZDE0ZTljZWQi.aTmWSA.PVdKLuPbwVCZNl0PJylO3MdQnm0">\n\n                            <div class="form-floating mb-3">\n                                <input type="text" class="form-control bg-light border-0" id="username" name="username"\n                                    placeholder="Kullan\xc4\xb1c\xc4\xb1 Ad\xc4\xb1" required style="border-radius: 10px;">\n                                <label for="username" class="text-muted"><i class="fas fa-user me-2"></i>Kullan\xc4\xb1c\xc4\xb1\n                                    Ad\xc4\xb1</label>\n                            </div>\n\n                            <div class="form-floating mb-4">\n                                <input type="password" class="form-control bg-light border-0" id="password"\n                                    name="password" placeholder="\xc5\x9eifre" required style="border-radius: 10px;">\n                                <label for="password" class="text-muted"><i class="fas fa-lock me-2"></i>\xc5\x9eifre</label>\n                            </div>\n\n                            <div class="d-grid gap-2 mb-4">\n                                <button class="btn btn-primary btn-lg py-3 fw-bold" type="submit"\n                                    style="border-radius: 10px; letter-spacing: 1px;">\n                                    G\xc4\xb0R\xc4\xb0\xc5\x9e YAP\n                                </button>\n                            </div>\n\n                            <div class="text-center">\n                                <small class="text-muted">Varsay\xc4\xb1lan: <strong>admin</strong> /\n                                    <strong>admin123</strong></small>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n    \n\n    <script src="/static/js/bootstrap.bundle.min.js"></script>\n</body>\n\n</html>'

----------------------------------------------------------------------
Ran 5 tests in 0.899s

FAILED (failures=2)
<sys>:0: ResourceWarning: unclosed database in <sqlite3.Connection object at 0x7fe5354a0310>
